# graspi_igraph

Python-Igraph is a graph-based library contender for the library that works with the GraSPI package. 

This repository contains the implementation to test basic algorithm requirements that need to be met for this package to work similarly to GraSPI.
The basic algorithm requirements include:
  -  Construction of graphs
  -  Graph Filtering
  -  Determine the number of connected components
  -  Determine the shortest path from some meta-vertices to all specified vertices
  -  Provide a list of descriptors
  -  Graph visualization

## Installation
Download the packages found in requirements.txt after you have set up your virtual environment. 
Cone the repo by:
```
git clone https://github.com/wenqizheng326/graspi_igraph.git
```

Install the graspi_igraph package by:
```
pip install graspi-igraph
```
Once installed, to utilize the package remember to import the package:
```
import graspi_igraph as ig
```

## Example of Utilizing graspi_igraph via Jupyter Notebook
There is an example of how to utilize the code and how it works in a Jupyter Notebook that can be found in the notebook folder, called graspi_igraph_notebook.ipynb.

To run all code snippets
If using an text editor such as VSCode:
- click the Run All button at the top of notebook

If using a command line for jupyter notebook:
- install jupyter notebook
```
pip install notebook
```
- run the command
```
jupyter notebook
```
- once the command has run, it opens up a Jupyter notebook in a browser, then:
  1.  make sure you are currently in the graspi-igraph folder, if not, open folder called graspi-igraph
  3.  open the folder called notebook
  4.  open the file called _graspi_igraph_notebook.ipynb_
  5.  click the Run tab bringing you to a drop-down menu
  6.  click Run All Cells
 
If running each code snippet separately: 

**** _**Make sure to run each code segment in the notebook in order as it may be dependent on the one before**_ ****

## Further Explanation of Functionalities
### To Generate Test Files
Test-input-files can be generated via the testFileMaker.py by calling the function testFileMaker(_num_,_depth_,_textFileName_)
  - the function takes in a number of rows for the test graph, the depth of the graph, and the output file name
  - to generate 2D graphs, set the depth to 1
  
There are existing test files that can be accessed in the 2D-testFile and 3D-testFile folders

2D Testfile Example
```
# generates a 10x10 2D graph input-file
ig.testFileMaker(10,1,"output.txt")
```
3D Testfile Example
```
# generates a 10x10x5 3D graph input-file
ig.testFileMaker(10,5,"output.txt")
```

### To Test Algorithms

To **generate graphs**, call the generateGraph(_file_) function which takes in a input-file name
  -  returns a graph
```
ig.generateGraph("2D-testFile/testFile-10-2D.txt")   # utilizing the test file found in 2D-testFiles folder as an example
```

To **filter graphs**, call filterGraph(_graph_) function which takes in a graph object 
  -  can pass a graph generated by generateGraph(_file_)
  -  returns a filtered graph
```
g = ig.generateGraph("2D-testFile/testFile-10-2D.txt")     # utilizing the test file found in 2D-testFiles folder as an example
fg = ig.filterGraph(g)
```

To **determine the connected components** of the filtered graph, call connected_components() function
```
print(fg.connected_components())
```
The number of connected components can be found by taking the length of the result produced by the connected_components function 
```
print(len(fg.connected_components())) 
```

The **shortest path** between some meta-vertices to all specified vertices calling the function shortest_path(_fiteredGraph_, _specifiedVertices_, _metaVertex_, _fileName_)
  -  stores the distance of the paths to from the _metaVertex_ to every single _specified Vertices_ in a text file called _fileName_

Example:
  - the example below finds the shortest path between all black vertices to the blue meta-vertex and stores it in the text file, black_to_blue_paths.txt
```
ig.shortest_path(fg,'black','blue',"black_to_blue_paths.txt")    #fg is a filtered graph object
```

### To get list of descriptors

A **list of descriptors** can be found by calling the function descriptors(_graph_, _fileName_)

```
ig.descriptors(g,"descriptors_list.txt")      # g is a graph object
```

### To visualize graphs

  -  for 2d graphs, call visual2D(_graph_)
```
g = ig.generateGraph("2D-testFile/testFile-10-2D.txt")     # utilizing the test file found in 2D-testFiles folder as an example
ig.visual2D(g)
```
  -  for 3d graphs, call visual3D(_graph_)
```
g = ig.generateGraph("3D-testFile/testFile-10-3D.txt")     # utilizing the test file found in 2D-testFiles folder as an example
ig.visual3D(g)
```
Both take in a graph object



